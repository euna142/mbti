<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™êµ ìƒí™œ MBTI ì‹¬ë¦¬í…ŒìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-container">
            <h1>ğŸ“ í•™êµ ìƒí™œ MBTI ğŸ“</h1>
            <img id="start-image" src="/static/start.jpg" alt="Start Image">
            <button id="start-btn">ì‹œì‘í•˜ê¸°</button>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div id="question-container" style="display: none;">
            <div id="question-content">
                <img id="question-image" src="" alt="Question Image">
                <h2 id="question-text"></h2>
            </div>
            <div id="choices">
                <button id="choiceA"></button>
                <button id="choiceB"></button>
            </div>
            <button id="next-btn" style="display: none;">ë‹¤ìŒ ì§ˆë¬¸</button>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-container" style="display: none;">
            <h1 id="result-title"></h1>
            <img id="result-image" src="" alt="Result Image">
            <button id="restart-btn">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let answers = [];

        // ì§ˆë¬¸ ë°°ì—´
        const questions = [
            { "question": "ìƒˆí•™ê¸° ë°˜ì— ë“¤ì–´ê°ˆ ë•Œì˜ ì‹¬ì •ì€?", "choiceA": "ì œë°œ,, ì•„ëŠ” ì‚¬ëŒ ìˆì–´ë¼,,", "choiceB": "ì´ë²ˆì—ëŠ” ëˆ„êµ¬í•œí…Œ ë§ì„ ê±¸ì–´ë³¼ê¹Œ??", "image": "static/question1.jpg" },
            { "question": "ìƒˆí•™ê¸° ì„ ìƒë‹˜ê»˜ì„œ ìê¸°ì†Œê°œë¥¼ í•˜ë¼ê³  í•œë‹¤ë©´?", "choiceA": "1ë…„ ë™ì•ˆ ì¡°ìš©íˆ ìˆ¨ë§Œ ì‰¬ê³  ì‹¶ë‹¤.", "choiceB": "ëˆ„êµ¬ë³´ë‹¤ ë¹ ë¥´ê²Œ ì†ë“¤ê³  ë°œí‘œë¥¼ í•œë‹¤.", "image": "/static/question2.jpg" },
            { "question": "ë“œë””ì–´ ì£¼ë§ì´ ë˜ì—ˆë‹¤. ë‚˜ëŠ”?", "choiceA": "ì§‘ì—ì„œ íœ´ì‹ì„ ì·¨í•œë‹¤.", "choiceB": "ë‚˜ê°€ì„œ ë†€ì•„ì•¼ í•œë‹¤.", "image": "/static/question3.jpg" },
            { "question": "ë“±êµ ì¤‘ ê°™ì€ ë°˜ ì¹œêµ¬ë¥¼ ë°œê²¬í–ˆì„ ë•Œ ë‚˜ëŠ”?", "choiceA": "ì–´ì°¨í”¼ í•™êµì—ì„œ ë§Œë‚  ê±°ë‹ˆ ë¬´ì‹œí•œë‹¤.", "choiceB": "ë‹¬ë ¤ê°€ ì¸ì‚¬ë¥¼ í•œë‹¤.", "image": "/static/question4.jpg" },
            { "question": "ì¹œêµ¬ê°€ ì§ˆë¬¸ì„ í•˜ê¸° ì‹œì‘í•˜ë©´ ë‚˜ëŠ”?", "choiceA": "ëˆ„êµ¬ë³´ë‹¤ ì§‘ì¤‘í•˜ë©° ë“£ëŠ”ë‹¤.", "choiceB": "ë˜ ì‹œì‘ì´ë„¤,,," , "image": "/static/question5.jpg" },
            { "question": "í•™êµ ìˆ˜ì—…ì‹œê°„ì— ë© ë•Œë¦´ ë•Œ ë‚˜ëŠ”?", "choiceA": "ì•„ë¬´ ìƒê°ì´ ì—†ë‹¤.", "choiceB": "ì˜¨ê°– ìƒê°ì„ ë‹¤ í•œë‹¤." , "image": "/static/question6.jpg" },
            { "question": "ë¯¸ìˆ ì‹œê°„ ì°½ì˜ë ¥ì„ ë°œíœ˜í•˜ë¼ê³  í•œë‹¤ë©´?", "choiceA": "ë­˜ ê·¸ë ¤ì•¼í• ì§€ ê°ì´ ì•ˆ ì¡íŒë‹¤.", "choiceB": "ì•„ì´ë””ì–´ê°€ ë¨¸ë¦¿ì†ì— ê°€ë“ ì°¬ë‹¤.", "image": "/static/question7.jpg" },
            { "question": "ê¸¸ì—ì„œ ì‚¬ê³¼ë¥¼ ë°œê²¬í–ˆì„ ë•Œ ë‚˜ëŠ”?", "choiceA": "ì–´? ì‚¬ê³¼ë‹¤.", "choiceB": "ì‚¬ê³¼ê°€ ì™œ ìˆì§€? ëˆ„ê°€ ë–¨ì–´ëœ¨ë ¸ë‚˜?", "image": "/static/question8.jpg" },
            { "question": "ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ëŠ” ì¹œêµ¬ì—ê²Œ ë‚˜ëŠ”?", "choiceA": "ë”°ë”í•˜ê²Œ ì§€ì í•˜ë©° ë‹¤ìŒì—ëŠ” ì‹¤ìˆ˜ë¥¼ í•˜ì§€ ì•Šë„ë¡ í•œë‹¤.", "choiceB": "ìµœëŒ€í•œ ëŒë ¤ì„œ ë§ì„ í•˜ë©° ê¸°ë¶„ì´ ì•ˆ ë‚˜ì˜ê²Œ í•œë‹¤.", "image": "/static/question9.jpg" },
            { "question": "ì¹œêµ¬ê°€ ì—¼ìƒ‰ì„ í–ˆì„ ë•Œ ë‚˜ëŠ”?", "choiceA": "ë­? ë¬´ìŠ¨ ìƒ‰ìœ¼ë¡œ ì—¼ìƒ‰í–ˆëŠ”ë°? ì‚¬ì§„ ë³´ë‚´ë´.", "choiceB": "ì™œ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì•„? ì§€ê¸ˆì€ ê´œì°®ì•„?", "image": "/static/question10.jpg" },
            { "question": "í•™êµ ê°œí•™ ì „ë‚  ë‚˜ëŠ”?", "choiceA": "ê°€ë°©ì„ ë‹¤ ì‹¸ë†“ëŠ”ë‹¤.", "choiceB": "ê°€ë°©? ë‚´ì¼ì˜ ë‚´ê°€ í•˜ê² ì§€í•˜ë©° í°ì„ í•œë‹¤.", "image": "/static/question11.jpg" }
        ];

        const startButton = document.getElementById("start-btn");
        const questionContainer = document.getElementById("question-container");
        const resultContainer = document.getElementById("result-container");
        const resultTitle = document.getElementById("result-title");
        const resultImage = document.getElementById("result-image");
        const nextButton = document.getElementById("next-btn");
        const restartButton = document.getElementById("restart-btn");

        startButton.addEventListener("click", startQuiz);
        restartButton.addEventListener("click", restartQuiz);
        nextButton.addEventListener("click", nextQuestion);

        function startQuiz() {
            document.getElementById("start-container").style.display = "none";
            questionContainer.style.display = "block";
            loadQuestion();
        }

        function loadQuestion() {
            const question = questions[currentQuestion];
            document.getElementById("question-text").innerText = question.question;
            document.getElementById("choiceA").innerText = question.choiceA;
            document.getElementById("choiceB").innerText = question.choiceB;
            document.getElementById("question-image").src = question.image;
            document.getElementById("choiceA").onclick = () => chooseAnswer('A');
            document.getElementById("choiceB").onclick = () => chooseAnswer('B');
            nextButton.style.display = "none";
        }

        function chooseAnswer(answer) {
            answers.push(answer);
            nextButton.style.display = "inline-block";
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
    // MBTI ê³„ì‚° ê²°ê³¼ ë°›ê¸°
    const mbti = calculateMbti(answers); // ê¸°ì¡´ MBTI ê³„ì‚° í•¨ìˆ˜
    const resultImageSrc = `/static/${mbti.toLowerCase()}.jpg`;  // MBTI ê²°ê³¼ì— ë§ëŠ” ì´ë¯¸ì§€ ê²½ë¡œ

    // ê²°ê³¼ ì œëª© ì—…ë°ì´íŠ¸
    resultTitle.innerText = `ë‹¹ì‹ ì˜ MBTIëŠ” ${mbti}ì…ë‹ˆë‹¤.`;

    // ê²°ê³¼ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
    resultImage.src = resultImageSrc; // ë™ì ìœ¼ë¡œ ê²°ê³¼ ì´ë¯¸ì§€ ë¡œë“œ

    // í™”ë©´ ì „í™˜
    questionContainer.style.display = "none";
    resultContainer.style.display = "block";
}


        function calculateMbti(answers) {
            const scores = {'I': 0, 'E': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0};

            for (let i = 0; i < answers.length; i++) {
                if (i < 4) {
                    answers[i] === 'A' ? scores['I']++ : scores['E']++;
                } else if (i < 8) {
                    answers[i] === 'A' ? scores['S']++ : scores['N']++;
                } else {
                    answers[i] === 'A' ? scores['T']++ : scores['F']++;
                }
            }

            let mbti = '';
            mbti += scores['I'] > scores['E'] ? 'I' : 'E';
            mbti += scores['S'] > scores['N'] ? 'S' : 'N';
            mbti += scores['T'] > scores['F'] ? 'T' : 'F';
            mbti += scores['J'] > scores['P'] ? 'J' : 'P';

            return mbti;
        }

        function restartQuiz() {
            currentQuestion = 0;
            answers = [];
            resultContainer.style.display = "none";
            document.getElementById("start-container").style.display = "block";
        }
    </script>
</body>
</html>
